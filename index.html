<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">

    <title>Attach Events Demo</title>
</head>
<body>
    <h1>Attach Events Demo</h1>

    <ul class="menu">

        <span class="status">+</span>
        <span>Collapse</span>

        <li>
            Part One
        </li>

        <li>
            Part Two
        </li>

        <li>
            Part Three
        </li>

    </ul>

    <button id="test">Click Me</button>

    <div id="display"></div>

</body>
<script src="attachEvents.js"></script>
<script>
"use strict";

// shortcut functions for element selection
var qs   = (selector) => document.querySelector(selector),
    qsa  = (selector) => document.querySelectorAll (selector),
    // to_a() works for NodeList (returned by querySelectorAll), DOMTokenList (returned by classList), etc.
    to_a = (list) => Array.prototype.slice.call(list);

attachEvents({

    '.menu span': {
        'click': function() { 
            var hidden = ( qs("li").style.display === "none" );
            to_a(qsa("li")).map((elem) => elem.style.display = ( hidden ? "list-item" : "none" ));
            qs(".menu>.status").innerHTML = ( hidden ? "+" : "-" );
        }
    }
});

</script>
</html>
